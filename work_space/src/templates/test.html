{% extends "base.html" %}
{% load static %}
{% block header %}
<link rel="stylesheet" href="{% static 'css/test.css' %}" />
{% endblock %}
{% block content %}
{% include "header.html" %}
<div class="content">
  <img class="test" src="{% static 'img/test.png' %}">
  <p class="score">Score: {{ score }}</p>
  <div class="q">

    <form method="post">
      {% csrf_token %}

      {% for problem, choices in problem_choices %}
      <h2>{{ problem.problem_statement }}</h2>

      <div>
        <!-- Add a hidden input field for the problem ID -->
        <input type="hidden" name="problem_id_{{ forloop.counter }}" value="{{ problem.problem_id }}">
        {% for choice in choices %}
        <div class="options">
          <input type="radio" name="user_answer_{{ forloop.parentloop.counter }}"
            id="choice_{{ forloop.parentloop.counter }}_{{ forloop.counter }}" value="{{ choice.choice }}">
          <label for="choice_{{ forloop.parentloop.counter }}_{{ forloop.counter }}">{{ choice.choice }}</label>
        </div>

        {% endfor %}
        {% if problem.is_correct == True %}
        <p style="color: green;">正解</p>
        {% elif problem.is_correct == False %}
        <p style="color: red;">不正解</p>
        {% endif %}
      </div>
      {% endfor %}
      <button class="ansbtn" type="submit">回答</button>
    </form>
    <form method="post">
      {% csrf_token %}
      <input class="recreatebtn" type="submit" name="regenerate" value="再生成">
    </form>
  </div>
</div>
<img id="footer" src="{% static 'img/chalk_rail.png' %}">
{% endblock %}